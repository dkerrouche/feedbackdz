## Feature: Response Management (address/flag/notes) and Sentiment Visualization

### Context
We have server APIs for responses and analytics, CSV export, and a server-backed responses list with pagination. Next, implement response management actions (address/flag/notes) and add sentiment visualization (cards/charts) to the dashboard, leveraging existing endpoints and minimal schema changes (if any).

### Files to Create/Change

1) Response Management
- `src/app/api/responses/[id]/route.ts`:
  - Support PATCH actions: `mark_addressed`, `unmark_addressed`, `flag`, `unflag`, `update_notes`, `delete` (DELETE already present if implemented).
  - Validate action and update fields: `is_addressed`, `addressed_at`, `is_flagged`, `flagged_at`, `notes`.
- `src/lib/response-management.ts`:
  - Ensure `updateResponse`, `deleteResponse`, and batch helpers are stable and return success.
- `src/components/dashboard/ResponseItem.tsx`:
  - Add action buttons (Mark Addressed / Unmark, Flag / Unflag, Delete, Edit Notes modal/inline).
- `src/components/dashboard/ResponseDetailModal.tsx`:
  - Surface actions and a textarea for notes.

2) Sentiment Visualization
- `src/components/dashboard/AnalyticsCards.tsx`:
  - Include sentiment ratio card (positive/neutral/negative) from `analytics.sentimentBreakdown`.
- `src/components/dashboard/DashboardCharts.tsx`:
  - Add a simple stacked bar or pie for sentiment; reuse `analytics.sentimentBreakdown`.
  - Keep existing trend and rating distribution; wire to server analytics.

3) Optional Schema Check (only if fields missing)
- Verify `responses` includes: `is_addressed`, `is_flagged`, `addressed_at`, `flagged_at`, `notes`.
- If absent, add migration and adapt RLS appropriately.

### Behaviors / Algorithms
- PATCH actions update only the relevant fields; return updated row.
- UI updates optimistic, then reconciles with server response.
- Notes: trim input; limit size; simple validation.
- Sentiment chart: derive percentages from counts; handle zero-case gracefully.

### Phases
- Phase A — Response Actions: API + UI buttons + modal for notes.
- Phase B — Sentiment Visualization: cards + chart wiring.

### Out of Scope
- PDF export, advanced moderation flows, multi-user permissions UI.
