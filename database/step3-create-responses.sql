-- Step 3: Create sample responses for testing dashboard
-- Run this after Step 2 in your Supabase SQL Editor

-- Clear any existing responses for this business first
DELETE FROM responses WHERE business_id = '550e8400-e29b-41d4-a716-446655440000';

-- Insert sample responses with realistic data
INSERT INTO responses (id, survey_id, business_id, rating, sentiment, sentiment_score, transcription, keywords, language, ip_address, user_agent, created_at, processed_at, is_spam) VALUES

-- High-rated responses (4-5 stars) - Positive sentiment
('550e8400-e29b-41d4-a716-446655440010', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 5, 'positive', 0.9, 'Excellent food and service! The couscous was amazing and the staff was very friendly.', '["food", "service", "excellent", "couscous", "staff", "friendly"]', 'en', '192.168.1.1', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)', NOW() - INTERVAL '1 day', NOW() - INTERVAL '1 day', false),
('550e8400-e29b-41d4-a716-446655440011', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 5, 'positive', 0.85, 'Très bon restaurant! La nourriture était délicieuse et le service impeccable.', '["restaurant", "nourriture", "délicieuse", "service", "impeccable"]', 'fr', '192.168.1.2', 'Mozilla/5.0 (Android 11; Mobile; rv:68.0)', NOW() - INTERVAL '2 days', NOW() - INTERVAL '2 days', false),
('550e8400-e29b-41d4-a716-446655440012', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 4, 'positive', 0.8, 'Good experience overall. The atmosphere was nice and the food was tasty.', '["experience", "atmosphere", "nice", "food", "tasty"]', 'en', '192.168.1.3', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', NOW() - INTERVAL '3 days', NOW() - INTERVAL '3 days', false),
('550e8400-e29b-41d4-a716-446655440013', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 5, 'positive', 0.95, 'مطعم رائع! الطعام لذيذ والخدمة ممتازة. أنصح به بشدة.', '["مطعم", "رائع", "طعام", "لذيذ", "خدمة", "ممتازة"]', 'ar', '192.168.1.4', 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_7_1 like Mac OS X)', NOW() - INTERVAL '4 days', NOW() - INTERVAL '4 days', false),
('550e8400-e29b-41d4-a716-446655440014', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 4, 'positive', 0.75, 'Great place! The coffee was perfect and the pastries were fresh.', '["place", "coffee", "perfect", "pastries", "fresh"]', 'en', '192.168.1.5', 'Mozilla/5.0 (Android 10; Mobile; rv:68.0)', NOW() - INTERVAL '5 days', NOW() - INTERVAL '5 days', false),
('550e8400-e29b-41d4-a716-446655440015', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 5, 'positive', 0.9, 'Amazing experience! The traditional dishes were authentic and delicious.', '["amazing", "experience", "traditional", "dishes", "authentic", "delicious"]', 'en', '192.168.1.6', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', NOW() - INTERVAL '6 days', NOW() - INTERVAL '6 days', false),
('550e8400-e29b-41d4-a716-446655440016', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 4, 'positive', 0.8, 'Very good restaurant with excellent service and tasty food.', '["good", "restaurant", "excellent", "service", "tasty", "food"]', 'en', '192.168.1.7', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X)', NOW() - INTERVAL '7 days', NOW() - INTERVAL '7 days', false),

-- Medium-rated responses (3 stars) - Neutral sentiment
('550e8400-e29b-41d4-a716-446655440017', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 3, 'neutral', 0.5, 'It was okay. The food was decent but nothing special. Service was average.', '["okay", "food", "decent", "service", "average"]', 'en', '192.168.1.8', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', NOW() - INTERVAL '8 days', NOW() - INTERVAL '8 days', false),
('550e8400-e29b-41d4-a716-446655440018', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 3, 'neutral', 0.45, 'Pas mal mais pourrait être mieux. Le service était un peu lent.', '["pas", "mal", "mieux", "service", "lent"]', 'fr', '192.168.1.9', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X)', NOW() - INTERVAL '9 days', NOW() - INTERVAL '9 days', false),
('550e8400-e29b-41d4-a716-446655440019', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 3, 'neutral', 0.55, 'الطعام مقبول لكن الأسعار مرتفعة قليلاً.', '["طعام", "مقبول", "أسعار", "مرتفعة"]', 'ar', '192.168.1.10', 'Mozilla/5.0 (Android 11; Mobile; rv:68.0)', NOW() - INTERVAL '10 days', NOW() - INTERVAL '10 days', false),
('550e8400-e29b-41d4-a716-446655440020', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 3, 'neutral', 0.6, 'Average experience. Nothing special but not bad either.', '["average", "experience", "special", "bad"]', 'en', '192.168.1.11', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X)', NOW() - INTERVAL '11 days', NOW() - INTERVAL '11 days', false),
('550e8400-e29b-41d4-a716-446655440021', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 3, 'neutral', 0.5, 'Decent place but could improve the service speed.', '["decent", "place", "improve", "service", "speed"]', 'en', '192.168.1.12', 'Mozilla/5.0 (Android 10; Mobile; rv:68.0)', NOW() - INTERVAL '12 days', NOW() - INTERVAL '12 days', false),

-- Low-rated responses (1-2 stars) - Negative sentiment
('550e8400-e29b-41d4-a716-446655440022', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 2, 'negative', 0.2, 'Disappointed with the service. Food was cold and the waiter was rude.', '["disappointed", "service", "food", "cold", "waiter", "rude"]', 'en', '192.168.1.13', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', NOW() - INTERVAL '13 days', NOW() - INTERVAL '13 days', false),
('550e8400-e29b-41d4-a716-446655440023', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 1, 'negative', 0.1, 'Très déçu. La nourriture était mauvaise et le service terrible.', '["déçu", "nourriture", "mauvaise", "service", "terrible"]', 'fr', '192.168.1.14', 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X)', NOW() - INTERVAL '14 days', NOW() - INTERVAL '14 days', false),
('550e8400-e29b-41d4-a716-446655440024', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 2, 'negative', 0.25, 'Poor service and overpriced food. Not worth the money.', '["poor", "service", "overpriced", "food", "money"]', 'en', '192.168.1.15', 'Mozilla/5.0 (Android 11; Mobile; rv:68.0)', NOW() - INTERVAL '15 days', NOW() - INTERVAL '15 days', false),
('550e8400-e29b-41d4-a716-446655440025', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 1, 'negative', 0.15, 'Terrible experience. Rude staff and bad food quality.', '["terrible", "experience", "rude", "staff", "bad", "food", "quality"]', 'en', '192.168.1.16', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', NOW() - INTERVAL '16 days', NOW() - INTERVAL '16 days', false),

-- More responses for trend analysis (spread across the last 30 days)
('550e8400-e29b-41d4-a716-446655440026', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 4, 'positive', 0.8, 'Nice atmosphere and good food. Will come back again.', '["atmosphere", "good", "food", "come", "back"]', 'en', '192.168.1.17', 'Mozilla/5.0 (Android 12; Mobile; rv:68.0)', NOW() - INTERVAL '18 days', NOW() - INTERVAL '18 days', false),
('550e8400-e29b-41d4-a716-446655440027', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 5, 'positive', 0.9, 'Excellent! The best restaurant in the area. Highly recommended.', '["excellent", "best", "restaurant", "area", "recommended"]', 'en', '192.168.1.18', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', NOW() - INTERVAL '20 days', NOW() - INTERVAL '20 days', false),
('550e8400-e29b-41d4-a716-446655440028', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 3, 'neutral', 0.5, 'Average experience. Nothing special but not bad either.', '["average", "experience", "special", "bad"]', 'en', '192.168.1.19', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X)', NOW() - INTERVAL '22 days', NOW() - INTERVAL '22 days', false),
('550e8400-e29b-41d4-a716-446655440029', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 4, 'positive', 0.85, 'Good food and friendly staff. The location is convenient.', '["good", "food", "friendly", "staff", "location", "convenient"]', 'en', '192.168.1.20', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', NOW() - INTERVAL '24 days', NOW() - INTERVAL '24 days', false),
('550e8400-e29b-41d4-a716-446655440030', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 5, 'positive', 0.95, 'Perfect! Everything was amazing. The couscous was the best I ever had.', '["perfect", "amazing", "couscous", "best"]', 'en', '192.168.1.21', 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)', NOW() - INTERVAL '26 days', NOW() - INTERVAL '26 days', false),
('550e8400-e29b-41d4-a716-446655440031', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 2, 'negative', 0.3, 'Not satisfied with the quality. Food was bland and service was slow.', '["satisfied", "quality", "food", "bland", "service", "slow"]', 'en', '192.168.1.22', 'Mozilla/5.0 (Android 10; Mobile; rv:68.0)', NOW() - INTERVAL '28 days', NOW() - INTERVAL '28 days', false),
('550e8400-e29b-41d4-a716-446655440032', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 4, 'positive', 0.8, 'Great place with authentic Algerian cuisine. Highly recommend!', '["great", "place", "authentic", "algerian", "cuisine", "recommend"]', 'en', '192.168.1.23', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)', NOW() - INTERVAL '30 days', NOW() - INTERVAL '30 days', false);

-- Show summary of created responses
SELECT 
    'Sample responses created!' as status,
    COUNT(*) as total_responses,
    ROUND(AVG(rating), 2) as average_rating,
    COUNT(CASE WHEN sentiment = 'positive' THEN 1 END) as positive_responses,
    COUNT(CASE WHEN sentiment = 'neutral' THEN 1 END) as neutral_responses,
    COUNT(CASE WHEN sentiment = 'negative' THEN 1 END) as negative_responses
FROM responses 
WHERE business_id = '550e8400-e29b-41d4-a716-446655440000';
